<% provide(:title, "Codeology | Completed Interviews") %>

<section class="section">
  <div class="container">
      
    <h3 class="small-vertical-padding has-text-centered">Completed Interviews</h3>
    <h5 class="">Received Interviews</h5>
        
    <table class="responsive-table highlight">
      <thead>
        <tr>
          <th>Date</th>
          <th>Time</th>
          <th>Interviewer</th>
          <th>Language</th>
          <th>Location</th>
          <th colspan="2"></th>
        </tr>
      </thead>

      <tbody>
        <% @mappedPastReceiving.each do |receiving| %>
          <tr>
          <!-- TODO parse date and time for 1st and 2nd respectively -->
            <td><%= receiving[:interview].time.localtime.strftime("%b %d, %Y") %></td>
            <td><%= receiving[:interview].time.localtime.strftime("%l:%M %p") %></td>
            <td><%= receiving[:username] %></td>
            <td><% if receiving[:interview].is_python %>Python<% else %>Java<% end %></td>
            <td><% if receiving[:interview].is_videocall %>Videocall<% else %>On Campus<% end %></td>
            <% interview = receiving[:interview] %>
            <td><%= link_to 'View', past_interview_path(interview), 
            class: "btn hoverable is-round waves-effect waves-light normal-caps background-is-codeology-green white-text" %></td>
            <td><%= link_to 'Edit', edit_past_interview_path(interview), class: "btn hoverable is-round waves-effect waves-light normal-caps white-text" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <h5>Given Interviews</h5>

    <table class="responsive-table highlight">
      <thead>
        <tr>
          <th>Date</th>
          <th>Time</th>
          <th>Interviewee</th>
          <th>Language</th>
          <th>Location</th>
          <th colspan="2"></th>
        </tr>
      </thead>

      <tbody>
        <% @mappedPastGiving.each do |giving| %>
          <tr>
          <!-- TODO parse date and time for 1st and 2nd respectively -->
            <td><%= giving[:interview].time.localtime.strftime("%b %d, %Y") %></td>
            <td><%= giving[:interview].time.localtime.strftime("%l:%M %p") %></td>
            <td><%= giving[:username] %></td>
            <td><% if giving[:interview].is_python %>Python<% else %>Java<% end %></td>
            <td><% if giving[:interview].is_videocall %>Videocall<% else %>On Campus<% end %></td>
            <% interview = giving[:interview] %>
            <td><%= link_to 'View', past_interview_path(interview), 
            class: "btn hoverable is-round waves-effect waves-light normal-caps background-is-codeology-green white-text" %></td>
            <td><%= link_to 'Edit', edit_past_interview_path(interview), class: "btn hoverable is-round waves-effect waves-light normal-caps white-text" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</section>